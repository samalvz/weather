{"version":3,"sources":["Modules/CityComponent.js","Modules/WeatherInfoComponent.js","App.js","index.js"],"names":["SearchBox","styled","img","span","form","CityComponent","props","updateQuery","fetchLocation","onSubmit","placeholder","onChange","e","target","value","type","WeatherInfoIcons","Sunset","Sunrise","Humidity","Wind","Pressure","WeatherIcons","WeatherCondition","div","LocalTime","Location","Temperature","Condition","WeatherLogo","WeatherInfoLabel","WeatherInfoContainer","InfoContainer","InfoIcon","InfoLabel","WeatherInfoComponent","name","src","WeatherComponent","location","weather","console","log","isDay","data","icon","includes","properties","address_line1","country","Math","floor","main","temp_max","temp_min","feels_like","offset","d","Date","localTime","getTime","localOffset","getTimezoneOffset","toLocaleTimeString","getLocationTime","timezone","description","timeStamp","nd","getSunTime","sys","humidity","wind","speed","pressure","OW_API_KEY","Container","App","useState","query","updateLocation","updateWeather","geolocate","a","preventDefault","geoUrl","axios","get","then","response","geoLocation","features","latitude","lat","longitude","lon","catch","error","url","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"gRAcMA,GAXcC,IAAOC,IAAV,gFAKCD,IAAOE,KAAV,6GAMGF,IAAOG,KAAV,6gBAoDAC,EArBO,SAACC,GACnB,IAAOC,EAA8BD,EAA9BC,YAAaC,EAAiBF,EAAjBE,cAEpB,OAEI,aADA,CACA,qBAGI,eAACR,EAAD,CAAWS,SAAUD,EAArB,UAEI,uBAAOE,YAAa,oBAEbC,SAAU,SAACC,GAAD,OAAML,EAAYK,EAAEC,OAAOC,UAG5C,wBAAQC,KAAM,SAAd,0BCzDHC,EAAmB,CAC5BC,OAAQ,yBACRC,QAAS,yBACTC,SAAU,uBACVC,KAAM,mBACNC,SAAU,wBAGDC,EAAe,CAExB,MAAO,oBACP,MAAO,oBACP,MAAO,kBACP,MAAO,2BACP,MAAO,qBACP,MAAO,qBACP,MAAO,0BACP,MAAO,2BACP,MAAO,mBACP,MAAO,yBACP,MAAO,mBACP,MAAO,yBACP,MAAO,oBACP,MAAO,qBAmBLC,GAdatB,IAAOE,KAAV,kRAcSF,IAAOuB,IAAV,sMAUhBC,EAAYxB,IAAOE,KAAV,gHAMTuB,EAAWzB,IAAOE,KAAV,+IAQRwB,EAAc1B,IAAOE,KAAV,4NAYXyB,EAAY3B,IAAOE,KAAV,iPAYT0B,EAAc5B,IAAOC,IAAV,8GAOX4B,EAAmB7B,IAAOE,KAAV,6JAShB4B,EAAuB9B,IAAOE,KAAV,+LAUpB6B,EAAgB/B,IAAOuB,IAAV,6KASbS,EAAWhC,IAAOC,IAAV,yEAMRgC,EAAYjC,IAAOuB,IAAV,2NAcTW,EAAuB,SAAC7B,GAC1B,IAAO8B,EAAe9B,EAAf8B,KAAMtB,EAASR,EAATQ,MACb,OACI,eAACkB,EAAD,WACI,cAACC,EAAD,CAAUI,IAAKrB,EAAiBoB,KAChC,eAACF,EAAD,WACKpB,EACD,+BAAOsB,WAiGRE,EA3FU,SAAChC,GACtB,IAAOiC,EAAqBjC,EAArBiC,SAAUC,EAAWlC,EAAXkC,QAEjBC,QAAQC,IAAI,uBAAwBH,GAGpC,IAAMI,EAAQH,EAAQI,KAAKJ,QAAQ,GAAGK,KAAKC,SAAS,KA8BpD,OACI,qCAQI,cAACpB,EAAD,sCAEMa,EAAS,GAAGQ,WAAWC,cAF7B,+BAGMT,EAAS,GAAGQ,WAAWE,QAH7B,wBAMA,qBAAKZ,IAAK,4BAEV,eAACV,EAAD,WAEI,iDAAauB,KAAKC,MAAMX,EAAQI,KAAKQ,KAAKC,UAA1C,eACA,kDAAcH,KAAKC,MAAMX,EAAQI,KAAKQ,KAAKE,UAA3C,YACA,uBAJJ,yBAIyBJ,KAAKC,MAAMX,EAAQI,KAAKQ,KAAKG,YAJtD,YAUA,eAAC9B,EAAD,0BA5CgB,SAAC+B,GACrB,IAAIC,EAAI,IAAIC,KACRC,EAAYF,EAAEG,UACdC,EAAsC,IAAxBJ,EAAEK,oBAKpB,OAFS,IAAIJ,KAFHC,EAAYE,EACL,IAAOL,GAGdO,qBAqCWC,CAAgBxB,EAAQI,KAAKqB,aAG9C,eAAC1C,EAAD,WACI,eAACK,EAAD,WACKY,EAAQI,KAAKJ,QAAQ,GAAGY,KACzB,uBACA,+BAAOZ,EAAQI,KAAKJ,QAAQ,GAAG0B,iBAEnC,cAAC,EAAD,CAAa7B,IAAKf,EAAakB,EAAQI,KAAKJ,QAAQ,GAAGK,WAG3D,cAACf,EAAD,2BAEA,eAACC,EAAD,WACI,cAAC,EAAD,CACIK,KAAMO,EAAQ,SAAW,UACzB7B,MAxEG,SAACqD,EAAWF,EAAUtB,GACrC,IAAIc,EAAI,IAAIC,KAAiB,IAAZS,GACbN,EAAsC,IAAxBJ,EAAEK,oBAChBM,EAAMX,EAAEG,UAAYC,EAAgB,IAAOI,EAG/C,OAFc,IAAIP,KAAKU,GAEPL,qBAkEGM,CAAW7B,EAAQI,KAAK0B,IAAI3B,EAAQ,SAAW,WAAYH,EAAQI,KAAKqB,YAEnF,cAAC,EAAD,CAAsB7B,KAAM,WAAYtB,MAAO0B,EAAQI,KAAKQ,KAAKmB,WACjE,cAAC,EAAD,CAAsBnC,KAAM,OAAQtB,MAAO0B,EAAQI,KAAK4B,KAAKC,QAC7D,cAAC,EAAD,CAAsBrC,KAAM,WAAYtB,MAAO0B,EAAQI,KAAKQ,KAAKsB,kBC5O3EC,EAAa,mCAKbC,EAAY3E,IAAOuB,IAAV,2QA4FAqD,MA9Ef,WAEI,MAA6BC,mBAAS,IAAtC,mBAAOC,EAAP,KAAcxE,EAAd,KAEA,EAAmCuE,mBAAS,IAA5C,mBAAOvC,EAAP,KAAiByC,EAAjB,KAEA,EAAiCF,mBAAS,IAA1C,mBAAOtC,EAAP,KAAgByC,EAAhB,KAwBMC,EAAS,uCAAG,WAAOtE,GAAP,uBAAAuE,EAAA,6DACdvE,EAAEwE,iBAGkB,mCAEdC,EANQ,gEAM0DN,EAN1D,mBAIM,oCAJN,SAURO,IAAMC,IAAIF,GACXG,MAAK,SAAAC,GACFC,EAAcD,EAAS7C,KAAK+C,SAC5BX,EAAeU,GACfE,EAAWH,EAAS7C,KAAK+C,SAAS,GAAG5C,WAAW8C,IAChDC,EAAYL,EAAS7C,KAAK+C,SAAS,GAAG5C,WAAWgD,OAGpDC,OAAM,SAAAC,GACHxD,QAAQC,IAAI,iBAAkBuD,MAnBxB,aAsBF,WACRC,EAvBU,8DAuBmDN,EAvBnD,gBAuBmEE,GACvDI,GAAY,kBACtCA,GAAG,iBAAcvB,GAzBH,UA2BRW,IAAMC,IAAIW,GACXV,MAAK,SAAAC,GAEFR,EAAcQ,MAEjBO,OAAM,SAAAC,GACHxD,QAAQC,IAAI,qBAAsBuD,MAjC5B,4CAAH,sDAqCf,OACI,cAACrB,EAAD,UAEKpC,EACG,cAAC,EAAD,CAAkBD,SAAUA,EAAUC,QAASA,IAC/C,cAAC,EAAD,CAAejC,YAAaA,EAAaC,cAAe0E,OChGxEiB,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.ea3d089a.chunk.js","sourcesContent":["import styled from 'styled-components'\r\n\r\n//region styled area\r\nconst WeatherLogo = styled.img`\r\n  width: 140px;\r\n  height: 140px;\r\n  margin: 40px;\r\n`\r\nconst CityInput = styled.span`\r\n  color: black;\r\n  font-size: 18px;\r\n  font-weight: bold;\r\n  margin: 10px auto;\r\n`\r\nconst SearchBox = styled.form`\r\n  display: flex;\r\n  flex-direction: row;\r\n  border: black solid 1px;\r\n  border-radius: 4px;\r\n  color: black;\r\n  font-size: 18px;\r\n  font-weight: bold;\r\n  margin: 20px auto;\r\n\r\n  & input {\r\n    padding: 10px;\r\n    font-size: 14px;\r\n    border: none;\r\n    outline: none;\r\n    font-weight: bold;\r\n  }\r\n\r\n  & button {\r\n    padding: 10px;\r\n    font-size: 14px;\r\n    color: white;\r\n    background-color: black;\r\n    border: none;\r\n    outline: none;\r\n    font-weight: bold;\r\n    cursor: pointer;\r\n  }\r\n`\r\n//endregion\r\n\r\nconst CityComponent = (props) => {\r\n    const {updateQuery, fetchLocation} = props\r\n\r\n    return (\r\n        //fragment\r\n        <>\r\n            {/*<WeatherLogo src={\"./icons/perfect-day.svg\"}/>*/}\r\n            {/*<CityInput>Weather</CityInput>*/}\r\n            <SearchBox onSubmit={fetchLocation} >\r\n            {/*<SearchBox onSubmit={getWeather}>*/}\r\n                <input placeholder={\"Enter a location \"}\r\n                       // onChange={(e)=> InputHandler(e.target.value)}\r\n                       onChange={(e)=> updateQuery(e.target.value)}\r\n\r\n                />\r\n                <button type={\"submit\"}>Search</button>\r\n            </SearchBox>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default CityComponent;","import styled from \"styled-components\"\r\n\r\n// region icons\r\nexport const WeatherInfoIcons = {\r\n    Sunset: \".public/icons/temp.svg\",\r\n    Sunrise: \".public/icons/temp.svg\",\r\n    Humidity: \"./icons/humidity.svg\",\r\n    Wind: \"./icons/wind.svg\",\r\n    Pressure: \"./icons/pressure.svg\",\r\n}\r\n\r\nexport const WeatherIcons = {\r\n    //todo some weather conditions have no icons (e.g. 50n for mist)\r\n    \"01d\": \"./icons/sunny.svg\",\r\n    \"01n\": \"./icons/night.svg\",\r\n    \"02d\": \"./icons/day.svg\",\r\n    \"02n\": \"./icons/cloudy-night.svg\",\r\n    \"03d\": \"./icons/cloudy.svg\",\r\n    \"03n\": \"./icons/cloudy.svg\",\r\n    \"04d\": \"./icons/perfect-day.svg\",\r\n    \"04n\": \"./icons/cloudy-night.svg\",\r\n    \"09d\": \"./icons/rain.svg\",\r\n    \"09n\": \"./icons/rain-night.svg\",\r\n    \"10d\": \"./icons/rain.svg\",\r\n    \"10n\": \"./icons/rain-night.svg\",\r\n    \"11d\": \"./icons/storm.svg\",\r\n    \"11n\": \"./icons/storm.svg\",\r\n}\r\n//endregion\r\n\r\n//region styled region\r\nconst ExitButton = styled.span\r\n    `\r\n      display: flex;\r\n      flex-direction: row;\r\n      align-content: flex-start;\r\n      width: 100%; \r\n      & button {\r\n        width: 10%;\r\n        border: none;\r\n        background-color: transparent;\r\n        cursor: pointer;\r\n      }\r\n    `\r\n\r\nconst WeatherCondition = styled.div\r\n    `\r\n      display: flex;\r\n      flex-direction: row;\r\n      align-items: center;\r\n      width: 100%;\r\n      justify-content: space-between;\r\n      margin: 30px auto;\r\n\r\n    `\r\nconst LocalTime = styled.span\r\n    `\r\n      display: flex;\r\n      flex-direction: row;\r\n      justify-content: left;\r\n    `\r\nconst Location = styled.span\r\n    `\r\n      font-size: 25px;\r\n      text-transform: capitalize;\r\n      font-weight: bold;\r\n      margin: 15px auto;\r\n    `\r\n\r\nconst Temperature = styled.span\r\n    `\r\n      margin: 0 0 10px;\r\n      text-transform: capitalize;\r\n      text-align: center;\r\n      font-size: 14px;\r\n      //background: grey;\r\n      & span {\r\n        font-size: 20px\r\n      }\r\n    `\r\n\r\nconst Condition = styled.span\r\n    `\r\n      margin: 5px auto 10px auto;\r\n      text-transform: capitalize;\r\n      font-size: 18px;\r\n      //background: lightcoral;\r\n      & span {\r\n        font-size: 15px;\r\n        font-weight: lighter;\r\n      }\r\n    `\r\n\r\nconst WeatherLogo = styled.img\r\n    `\r\n      width: 100px;\r\n      height: 100px;\r\n      margin: 5px auto auto auto;\r\n    `\r\n\r\nconst WeatherInfoLabel = styled.span\r\n    `\r\n      font-size: 14px;\r\n      font-weight: bold;\r\n      margin: 5px 25px 10px;\r\n      text-align: start;\r\n      width: 90%;\r\n    `\r\n\r\nconst WeatherInfoContainer = styled.span\r\n    `\r\n      display: flex;\r\n      width: 90%;\r\n      flex-direction: row;\r\n      justify-content: space-evenly;\r\n      align-items: center;\r\n      flex-wrap: wrap;\r\n    `\r\n\r\nconst InfoContainer = styled.div\r\n    `\r\n      display: flex;\r\n      margin: 5px 10px;\r\n      flex-direction: row;\r\n      justify-content: space-evenly;\r\n      align-items: center;\r\n    `\r\n\r\nconst InfoIcon = styled.img\r\n    `\r\n      width: 36px;\r\n      height: 36px;\r\n    `\r\n\r\nconst InfoLabel = styled.div\r\n    `\r\n      display: flex;\r\n      flex-direction: column;\r\n      font-size: 14px;\r\n      margin: 15px;\r\n\r\n      &span {\r\n        font-size: 12px;\r\n        text-transform: capitalize;\r\n      }\r\n    `\r\n//endregion\r\n\r\nconst WeatherInfoComponent = (props) => {\r\n    const {name, value} = props;\r\n    return (\r\n        <InfoContainer>\r\n            <InfoIcon src={WeatherInfoIcons[name]}/>\r\n            <InfoLabel>\r\n                {value}\r\n                <span>{name}</span>\r\n            </InfoLabel>\r\n        </InfoContainer>\r\n    )\r\n}\r\n\r\nconst WeatherComponent = (props) => {\r\n    const {location, weather} = props;\r\n    //console.log(\"weather.data.weather: \", weather.data.weather)\r\n    console.log('location component: ', location)\r\n\r\n    // does openweather return daytime for this location?\r\n    const isDay = weather.data.weather[0].icon.includes('d');\r\n\r\n    // use provided sunrise/set time and convert to location's local time\r\n    const getSunTime = (timeStamp, timezone, isDay) => {\r\n        let d = new Date(timeStamp * 1000)\r\n        let localOffset = d.getTimezoneOffset() * 60000;\r\n        let nd = (d.getTime() + localOffset) + (1000 * timezone)\r\n        let sunTime = new Date(nd)\r\n\r\n        return (sunTime.toLocaleTimeString())\r\n    }\r\n\r\n    // use location timezone to display local time\r\n    const getLocationTime = (offset) =>{\r\n        let d = new Date()\r\n        let localTime = d.getTime()\r\n        let localOffset = d.getTimezoneOffset() * 60000;\r\n        let utc = localTime + localOffset\r\n        let loc = utc + (1000 * offset)\r\n        let nd = new Date(loc)\r\n\r\n        return nd.toLocaleTimeString();\r\n    }\r\n\r\n    // backbutton to return to city component (searchbar)\r\n    const BackButton = () =>{\r\n        //todo add button functionality\r\n        console.log(\"go back button\")\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {/*todo clean this area up and make more variables above this is ugly*/}\r\n            {/*<ExitButton>*/}\r\n            {/*    <button onClick={BackButton}>*/}\r\n             {/*        <img src={\"./icons/UI/small-x.png\"} alt={\"close\"} width={\"50%\"} />*/}\r\n            {/*    </button>*/}\r\n            {/*</ExitButton>*/}\r\n\r\n            <Location>\r\n                {`\r\n                ${location[0].properties.address_line1}, \r\n                ${location[0].properties.country}\r\n                `}\r\n            </Location>\r\n            <img src={\"public/icons/cloudy.svg\"}/>\r\n\r\n            <Temperature>\r\n                {/*Fahrenheit*/}\r\n                <span>H: {`${Math.floor(weather.data.main.temp_max)}°F | `}</span>\r\n                <span>L : {`${Math.floor(weather.data.main.temp_min)}°F`}</span>\r\n                <br/>Feels Like: {`${Math.floor(weather.data.main.feels_like)}°F`}\r\n                {/*Celsius */}\r\n                {/*<span>H: {`${Math.floor((weather.main.temp_max - 273) * (9/5) + 32)}°F | `}</span>*/}\r\n                {/*<span>L : {`${Math.floor((weather.main.temp_min - 273) * (9/5) + 32)}°F`}</span>*/}\r\n            </Temperature>\r\n\r\n            <LocalTime>\r\n                Local Time: {getLocationTime(weather.data.timezone)}\r\n            </LocalTime>\r\n\r\n            <WeatherCondition>\r\n                <Condition>\r\n                    {weather.data.weather[0].main}\r\n                    <br/>\r\n                    <span>{weather.data.weather[0].description}</span>\r\n                </Condition>\r\n                <WeatherLogo src={WeatherIcons[weather.data.weather[0].icon]}/>\r\n            </WeatherCondition>\r\n\r\n            <WeatherInfoLabel>Weather Info</WeatherInfoLabel>\r\n\r\n            <WeatherInfoContainer>\r\n                <WeatherInfoComponent\r\n                    name={isDay ? \"Sunset\" : \"Sunrise\"}\r\n                    value={getSunTime(weather.data.sys[isDay ? \"sunset\" : \"sunrise\"], weather.data.timezone, isDay)} // not sure why this has to be lowercase\r\n                />\r\n                <WeatherInfoComponent name={\"Humidity\"} value={weather.data.main.humidity}/>\r\n                <WeatherInfoComponent name={\"Wind\"} value={weather.data.wind.speed}/>\r\n                <WeatherInfoComponent name={\"Pressure\"} value={weather.data.main.pressure}/>\r\n            </WeatherInfoContainer>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default WeatherComponent;","import styled from \"styled-components\"\nimport React, {useState} from \"react\"\nimport axios from \"axios\"\n\nimport CityComponent from \"./Modules/CityComponent\";\nimport WeatherComponent from \"./Modules/WeatherInfoComponent\";\n//import WeatherInfoComponent from \"./Modules/WeatherInfoComponent\";\n\n// API keys exposed on git\n// open weather API_KEY\nconst OW_API_KEY = \"0bbbfd796e294a1afc7993e4729a8969\"\n// position stack API_KEY\nconst PS_ACCESS_KEY = `f54d77601783b4a6a134d3920a2e4157`;\n\n// main card\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  margin: auto;\n  align-items: center;\n  box-shadow: 0 3px 6px 0 #555;\n  padding: 20px 10px;\n  border-radius: 4px;\n  width: 380px;\n  background: white;\n  font-family: Montserrat, serif;\n`\n\n\nfunction App() {\n    // users typed in location\n    const [query, updateQuery] = useState('');\n    // exact location returned by Position Stack API\n    const [location, updateLocation] = useState('');\n    // weather returned from Open Weather API (using preciseLocation)\n    const [weather, updateWeather] = useState('');\n\n    // position stack api gets precise location data (coordinates, city, state, country, continent, etc)\n    // todo positionstack returns a list of many locations, it is possible to present this list to users to choose from\n    const fetchLocation = async (e) => {\n        e.preventDefault()\n        let locationResponse = await\n            axios.get(`http://api.positionstack.com/v1/forward?access_key=${PS_ACCESS_KEY}&query=${query}`)\n        await updateLocation(locationResponse.data.data[0])\n\n        // set lat and lon from pos stack\n        let latitude = locationResponse.data.data[0].latitude\n        let longitude = locationResponse.data.data[0].longitude\n        // open weather url building\n        let units = \"imperial\"  // todo currently hardcoded 'imperial' mode\n        let url = `https://api.openweathermap.org/data/2.5/weather?lat=${latitude}&lon=${longitude}`\n        if (units === \"imperial\") url = url + \"&units=imperial\"\n        url += `&appid=${OW_API_KEY}`\n        // open weather fetch\n        const weatherResponse = await axios.get(url)\n        // update weather state\n        updateWeather(weatherResponse.data)\n    }\n\n    const geolocate = async (e) => {\n        e.preventDefault()\n\n        //todo move this\n        const GEO_API_KEY = '6a81c1c4304f48f4bc9206e60b0d28a1';\n        // Geoapify API fetch\n        const geoUrl = `https://api.geoapify.com/v1/geocode/autocomplete?text=${query}&apiKey=${GEO_API_KEY}`\n        var geoLocation;\n        let latitude;\n        let longitude\n        await axios.get(geoUrl)\n            .then(response=>{\n                geoLocation = response.data.features;\n                updateLocation(geoLocation)\n                latitude = response.data.features[0].properties.lat;\n                longitude = response.data.features[0].properties.lon;\n                //console.log(latitude, longitude)\n            })\n            .catch(error => {\n                console.log('error Geoapfiy', error)\n            })\n\n        let units = \"imperial\"  // todo currently hardcoded 'imperial' mode\n        let url = `https://api.openweathermap.org/data/2.5/weather?lat=${latitude}&lon=${longitude}`\n        if (units === \"imperial\") url = url + \"&units=imperial\"\n        url += `&appid=${OW_API_KEY}`\n        // open weather fetch\n        await axios.get(url)\n            .then(response =>{\n                // update weather state component with openweather response\n                updateWeather(response)\n            })\n            .catch(error =>{\n                console.log('error open weather', error)\n            })\n    }\n\n    return (\n        <Container>\n            {/*if weather fetched (input entered), then render weather component*/}\n            {weather ?\n                <WeatherComponent location={location} weather={weather}/> :\n                <CityComponent updateQuery={updateQuery} fetchLocation={geolocate}/>\n            }\n        </Container>\n    )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}